// === Artifact configuration === //

compileJava() {
    dependsOn 'compileApiJava'
}

compileLangJava() {
    dependsOn 'compileJava'
}

task apiJar(type: Jar) {
    baseName = 'confort-api'
    version = project.version

    from sourceSets.api.allJava
    from sourceSets.api.output

    dependsOn 'compileApiJava'
}

task langJar(type: Jar) {
    baseName = 'confort-lang'
    version = project.version
    from sourceSets.lang.output

    dependsOn 'compileLangJava'
}

task runtimeJar(type: Jar) {
    baseName = 'confort-runtime'
    version = project.version

    from sourceSets.main.output

    dependsOn 'compileJava'
}

task allJar(type: Jar) {
    baseName = 'confort'
    version = project.version

    from sourceSets.api.output
    from sourceSets.main.output
    from sourceSets.lang.output

    dependsOn 'compileLangJava'
}

build {
    dependsOn 'apiJar'
    dependsOn 'langJar'
    dependsOn 'runtimeJar'
    dependsOn 'allJar'
}